<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-06-14T15:36:17.140119356"><title>Ordering Categories, asDiscrete() | Lets-Plot for Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"usage","level":0,"title":"Usage","anchor":"#usage"},{"id":"examples","level":0,"title":"Examples","anchor":"#examples"},{"id":"example-notebooks","level":0,"title":"Example Notebooks","anchor":"#example-notebooks"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/favicon.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Ordering Categories, asDiscrete() | Lets-Plot for Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Lets-Plot for Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://lets-plot.org/kotlin/4.7.3/as-discrete.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Ordering Categories, asDiscrete() | Lets-Plot for Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://lets-plot.org/kotlin/4.7.3/as-discrete.html#webpage",
    "url": "https://lets-plot.org/kotlin/4.7.3/as-discrete.html",
    "name": "Ordering Categories, asDiscrete() | Lets-Plot for Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://lets-plot.orgkotlin/#website",
    "url": "https://lets-plot.orgkotlin/",
    "name": "Lets-Plot for Kotlin Help"
}</script><!-- End Schema.org --><script type="text/javascript">
    document.addEventListener("DOMContentLoaded", onDOMContentLoaded);

    function onDOMContentLoaded() {
        addGitHubLinkToHeader();
    }

    function addGitHubLinkToHeader() {
        function createGitHubLink() {
            const gitHubLinkElem = document.createElement("a");
            gitHubLinkElem.setAttribute("href", "https://github.com/JetBrains/lets-plot-kotlin");
            gitHubLinkElem.setAttribute("id", "github-repo-link");
            return gitHubLinkElem;
        }

        whenLoaded("header .wh-header").then((headerElem) => {
            const switchersElem = headerElem.querySelector(".wh-header__switchers");
            const gitHubLinkElem = createGitHubLink();
            headerElem.insertBefore(gitHubLinkElem, switchersElem);
        });
    }

    function whenLoaded(selector) {
        return new Promise(resolve => {
            const element = document.querySelector(selector);
            if (element) {
                resolve(element);
            } else {
                const observer = new MutationObserver(() => {
                    const element = document.querySelector(selector);
                    if (element) {
                        observer.disconnect();
                        resolve(element);
                    }
                });
                observer.observe(document.body, { childList: true, subtree: true });
            }
        });
    }
</script>

<style>
    #github-repo-link {
      width: 36px;
      height: 36px;
      background-image: url(https://raw.githubusercontent.com/JetBrains/lets-plot-kotlin/master/docs/images/homepage.svg);
      background-size: 24px 24px;
      background-position: 50% 50%;
      background-repeat: no-repeat;
      border-radius: 50%;
    }

    #github-repo-link:hover {
      background-color: hsla(0, 0%, 100%, .1);
    }

    header .wh-header__switchers>button {
      margin-left: 4px;
      margin-right: 2px;
    }

    header .wh-header__search-button {
      margin-left: 0;
      margin-right: -6px;
    }
</style></head><body data-id="as_discrete" data-main-title="Ordering Categories, asDiscrete()" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Key Features"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Lets-Plot for Kotlin 4.7.3 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="as_discrete" id="as_discrete.md">Ordering Categories, asDiscrete()</h1><p id="-iyo8gk_2">The function <a href="https://lets-plot.org/kotlin/api-reference/-lets--plot--kotlin/org.jetbrains.letsPlot/as-discrete.html" id="-iyo8gk_3" data-external="true" rel="noopener noreferrer"><code class="code" id="-iyo8gk_4">asDiscrete</code></a> is used to annotate a numeric data series as categorical data with the possibility of its ordering for the purposes of given visualization.</p><section class="chapter"><h2 id="usage" data-toc="usage">Usage</h2><div class="code-block" data-lang="kotlin">
asDiscrete(variable, label=null, orderBy=null, order=null)
</div><p id="-iyo8gk_6">where</p><ul class="list _bullet" id="-iyo8gk_7"><li class="list__item" id="-iyo8gk_8"><p><code class="code" id="-iyo8gk_9">variable</code> (string) - the name of the data variable (which is mapped to the plot aesthetic);</p></li><li class="list__item" id="-iyo8gk_10"><p><code class="code" id="-iyo8gk_11">label</code> (string) - the name of the scale - it will be used as the axis label or as the legend title;</p></li><li class="list__item" id="-iyo8gk_12"><p><code class="code" id="-iyo8gk_13">orderBy</code> (string) - the name of the variable by which the ordering will be performed;</p></li><li class="list__item" id="-iyo8gk_14"><p><code class="code" id="-iyo8gk_15">order</code> (int) - the ordering direction - <code class="code" id="-iyo8gk_16">1</code> for ascending direction and <code class="code" id="-iyo8gk_17">-1</code> for descending (default value).</p></li></ul><p id="-iyo8gk_18">To enable ordering mode, at least one ordering parameter (<code class="code" id="-iyo8gk_19">orderBy</code> or <code class="code" id="-iyo8gk_20">order</code>) should be specified. By the default, it will use descending direction and ordering by eigenvalues. You cannot specify different order settings for the same variable. However, if these settings don't contradict each other, they will be combined.</p><p id="-iyo8gk_21">The <code class="code" id="-iyo8gk_22">orderBy</code> is a numeric variable, which values are used for reordering. It's also possible to use statistical variables. The reordering uses the average value. The exception is plots with the <code class="code" id="-iyo8gk_23">stack</code> position adjustment, where multiple bars occupying the same <code class="code" id="-iyo8gk_24">x</code> position are stacked atop one another: in this case, the sum is calculated to get the order of the stack sizes.</p></section><section class="chapter"><h2 id="examples" data-toc="examples">Examples</h2><div class="code-block" data-lang="kotlin">
p = letsPlot(mpg)
p + geomPoint { x = &quot;displ&quot;; y = &quot;hwy&quot;; color = &quot;cyl&quot; }
</div><figure id="-iyo8gk_26"><img alt="as_discrete_1.png" src="images/as_discrete_1.png" title="as_discrete_1.png" width="480" height="317"></figure><p id="-iyo8gk_27">Let's annotate the 'cyl' variable as discrete using the <code class="code" id="-iyo8gk_28">asDiscrete('cyl')</code> function. As a result, the data is divided into groups, a discrete color scale is assigned instead of a continuous one:</p><div class="code-block" data-lang="kotlin">
p + geomPoint { x = &quot;displ&quot;; y = &quot;hwy&quot;; color = asDiscrete(&quot;cyl&quot;) }
</div><figure id="-iyo8gk_30"><img alt="as_discrete_2.png" src="images/as_discrete_2.png" title="as_discrete_2.png" width="480" height="322"></figure><p id="-iyo8gk_31">Set the 'cyl' variable in ascending order of its values:</p><div class="code-block" data-lang="kotlin">
p + geomPoint { x = &quot;displ&quot;; y = &quot;hwy&quot;; color = asDiscrete(&quot;cyl&quot;, order = 1) }
</div><figure id="-iyo8gk_33"><img alt="as_discrete_3.png" src="images/as_discrete_3.png" title="as_discrete_3.png" width="480" height="323"></figure><p id="-iyo8gk_34">Boxplot example:</p><div class="code-block" data-lang="kotlin">
p + geomBoxplot { x = &quot;class&quot;; y = &quot;hwy&quot; }
</div><figure id="-iyo8gk_36"><img alt="as_discrete_4.png" src="images/as_discrete_4.png" title="as_discrete_4.png" width="480" height="325"></figure><p id="-iyo8gk_37">Order <code class="code" id="-iyo8gk_38">x</code> alphabetically:</p><div class="code-block" data-lang="kotlin">
p + geomBoxplot { x = asDiscrete(&quot;class&quot;, order = 1); y = &quot;hwy&quot; }
</div><figure id="-iyo8gk_40"><img alt="as_discrete_5.png" src="images/as_discrete_5.png" title="as_discrete_5.png" width="480" height="329"></figure><p id="-iyo8gk_41">Order <code class="code" id="-iyo8gk_42">x</code> by another variable - in descending order of the median:</p><div class="code-block" data-lang="kotlin">
p + geomBoxplot { x = asDiscrete(&quot;class&quot;, orderBy = &quot;..middle..&quot;); y = &quot;hwy&quot; }
</div><figure id="-iyo8gk_44"><img alt="as_discrete_6.png" src="images/as_discrete_6.png" title="as_discrete_6.png" width="480" height="320"></figure><p id="-iyo8gk_45">Add <code class="code" id="-iyo8gk_46">color</code> associated with the same variable. The ordering is also applied to it, which will be visible in the legend:</p><div class="code-block" data-lang="kotlin">
p + geomBoxplot { x = asDiscrete(&quot;class&quot;, order = 1); y = &quot;hwy&quot;; color = &quot;class&quot; }
</div><figure id="-iyo8gk_48"><img alt="as_discrete_7.png" src="images/as_discrete_7.png" title="as_discrete_7.png" width="480" height="329"></figure><p id="-iyo8gk_49">Two different ordering settings are specified for the <code class="code" id="-iyo8gk_50">class</code> variable. These settings don't contradict each other. This means that they will be combined, and the variable will be ordered in ascending order <code class="code" id="-iyo8gk_51">ymax</code>:</p><div class="code-block" data-lang="kotlin">
p + geomBoxplot { x = asDiscrete(&quot;class&quot;, orderBy = &quot;..ymax..&quot;); y = &quot;hwy&quot;; color = asDiscrete(&quot;class&quot;, order = 1) }
</div><figure id="-iyo8gk_53"><img alt="as_discrete_8.png" src="images/as_discrete_8.png" title="as_discrete_8.png" width="480" height="330"></figure><p id="-iyo8gk_54">Example of ordering for two variables:</p><div class="code-block" data-lang="kotlin">
p + geomBar { x = asDiscrete(&quot;manufacturer&quot;, order = 1); fill = asDiscrete(&quot;class&quot;, order = 1) }
</div><figure id="-iyo8gk_56"><img alt="as_discrete_9.png" src="images/as_discrete_9.png" title="as_discrete_9.png" width="480" height="332"></figure><p id="-iyo8gk_57">Reorder <code class="code" id="-iyo8gk_58">x</code> by counts to get from highest on the left to lowest on the right:</p><div class="code-block" data-lang="kotlin">
p + geomBar { x = asDiscrete(&quot;manufacturer&quot;, orderBy = &quot;..count..&quot;); fill = asDiscrete(&quot;class&quot;, order = 1) }
</div><figure id="-iyo8gk_60"><img alt="as_discrete_10.png" src="images/as_discrete_10.png" title="as_discrete_10.png" width="480" height="325"></figure><p id="-iyo8gk_61">Apply sampling to the plot after reordering:</p><div class="code-block" data-lang="kotlin">
p + geomBar(sampling = samplingPick(4)) { x = asDiscrete(&quot;manufacturer&quot;, orderBy = &quot;..count..&quot;); fill = asDiscrete(&quot;class&quot;, order = 1) }
</div><figure id="-iyo8gk_63"><img alt="as_discrete_11.png" src="images/as_discrete_11.png" title="as_discrete_11.png" width="480" height="334"></figure></section><section class="chapter"><h2 id="example-notebooks" data-toc="example-notebooks">Example Notebooks</h2><ul class="list _bullet" id="-iyo8gk_64"><li class="list__item" id="-iyo8gk_65"><p><a href="https://nbviewer.org/github/JetBrains/lets-plot-docs/blob/master/source/kotlin_examples/cookbook/geom_smooth.ipynb" id="-iyo8gk_66" data-external="true" rel="noopener noreferrer">Smoothing</a></p></li><li class="list__item" id="-iyo8gk_67"><p><a href="https://nbviewer.org/github/JetBrains/lets-plot-docs/blob/master/source/kotlin_examples/cookbook/ordering_examples.ipynb" id="-iyo8gk_68" data-external="true" rel="noopener noreferrer">Guide to ordering</a></p></li><li class="list__item" id="-iyo8gk_69"><p><a href="https://nbviewer.org/github/JetBrains/lets-plot-docs/blob/master/source/kotlin_examples/cookbook/factor_levels.ipynb" id="-iyo8gk_70" data-external="true" rel="noopener noreferrer">Factor levels</a></p></li></ul></section><div class="last-modified">Last modified: 14 June 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="presentation-options.html" class="navigation-links__prev">Presentation Options</a><a href="misc.html" class="navigation-links__next">Miscellaneous</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>