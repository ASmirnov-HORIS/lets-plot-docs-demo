<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>lets_plot.mapping.as_discrete</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/dataframe.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/js/custom.js"></script>
    <script src="../../_static/js/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          Lets-Plot</a>
        <span class="navbar-text navbar-version pull-left"><b>4.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../charts.html">Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maps.html">Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geocoding.html">Geocoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bistro.html">'bistro' plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">What is new</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">lets_plot.mapping.as_discrete</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="lets-plot-mapping-as-discrete">
<h1>lets_plot.mapping.as_discrete<a class="headerlink" href="#lets-plot-mapping-as-discrete" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="lets_plot.mapping.as_discrete">
<span class="sig-prename descclassname"><span class="pre">lets_plot.mapping.</span></span><span class="sig-name descname"><span class="pre">as_discrete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lets_plot.mapping.as_discrete" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is used to annotate a numeric data series as categorical data with the possibility of its ordering for the purposes of given visualization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>variable</strong><span class="classifier">str</span></dt><dd><p>The name of the variable.</p>
</dd>
<dt><strong>label</strong><span class="classifier">str</span></dt><dd><p>The name of the scale - used as the axis label or the legend title.</p>
</dd>
<dt><strong>order_by</strong><span class="classifier">str</span></dt><dd><p>The variable name to order by.</p>
</dd>
<dt><strong>order</strong><span class="classifier">int</span></dt><dd><p>The ordering direction. 1 for ascending, -1 for descending.</p>
</dd>
<dt><strong>levels</strong><span class="classifier">list</span></dt><dd><p>The list of values that defines a specific order of categories.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><cite>MappingMeta</cite> or list</dt><dd><p>Variable meta information.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The plot will use a discrete scale for the aesthetic mapping.
It is similar to the <cite>factor()</cite> function from R but works differently - there is no data transformation.</p>
<p>To enable ordering mode, at least one ordering parameter (<cite>order_by</cite> or <cite>order</cite>) should be specified.
By the default, it will use descending direction and ordering by eigenvalues.
You cannot specify different order settings for the same variable.
But if these settings don’t contradict each other, they will be combined.</p>
<p class="rubric">Examples</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">lets_plot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">lets_plot.mapping</span> <span class="kn">import</span> <span class="n">as_discrete</span>
<span class="linenos"> 4</span><span class="n">LetsPlot</span><span class="o">.</span><span class="n">setup_html</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="linenos"> 6</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 8</span>    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos"> 9</span>    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos">10</span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos">11</span><span class="p">}</span>
<span class="linenos">12</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">))</span> <span class="o">+</span> \
<span class="hll"><span class="linenos">13</span>    <span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">as_discrete</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)))</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<div id="pRDiKJ"></div>
<script type="text/javascript" data-lets-plot-script="library">
    if(!window.letsPlotCallQueue) {
        window.letsPlotCallQueue = [];
    }; 
    window.letsPlotCall = function(f) {
        window.letsPlotCallQueue.push(f);
    };
    (function() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.2.0/js-package/distr/lets-plot.min.js";
        script.onload = function() {
            window.letsPlotCall = function(f) {f();};
            window.letsPlotCallQueue.forEach(function(f) {f();});
            window.letsPlotCallQueue = [];

        };
        script.onerror = function(event) {
            window.letsPlotCall = function(f) {};    // noop
            window.letsPlotCallQueue = [];
            var div = document.createElement("div");
            div.style.color = 'darkred';
            div.textContent = 'Error loading Lets-Plot JS';
            document.getElementById("pRDiKJ").appendChild(div);
        };
        var e = document.getElementById("pRDiKJ");
        e.appendChild(script);
    })()
</script>
</div><div class="output text_html">   <div id="FCBPAM"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
"x":[0.4967141530112327,-0.13826430117118466,0.6476885381006925,1.5230298564080254,-0.23415337472333597,-0.23413695694918055,1.5792128155073915,0.7674347291529088,-0.4694743859349521,0.5425600435859647,-0.46341769281246226,-0.46572975357025687,0.24196227156603412,-1.913280244657798,-1.7249178325130328,-0.5622875292409727,-1.0128311203344238,0.3142473325952739,-0.9080240755212109,-1.4123037013352915,1.465648768921554,-0.22577630048653566,0.06752820468792384,-1.4247481862134568,-0.5443827245251827,0.11092258970986608,-1.1509935774223028,0.37569801834567196,-0.600638689918805,-0.2916937497932768,-0.6017066122293969,1.8522781845089378,-0.013497224737933921,-1.0577109289559004,0.822544912103189,-1.2208436499710222,0.2088635950047554,-1.9596701238797756,-1.3281860488984305,0.19686123586912352,0.7384665799954104,0.1713682811899705,-0.11564828238824053,-0.3011036955892888,-1.4785219903674274,-0.7198442083947086,-0.4606387709597875,1.0571222262189157,0.3436182895684614,-1.763040155362734,0.324083969394795,-0.38508228041631654,-0.6769220003059587,0.6116762888408679,1.030999522495951,0.9312801191161986,-0.8392175232226385,-0.3092123758512146,0.33126343140356396,0.9755451271223592,-0.47917423784528995,-0.18565897666381712,-1.1063349740060282,-1.1962066240806708,0.812525822394198,1.356240028570823,-0.07201012158033385,1.0035328978920242,0.36163602504763415,-0.6451197546051243,0.36139560550841393,1.5380365664659692,-0.03582603910995154,1.5646436558140062,-2.6197451040897444,0.8219025043752238,0.08704706823817122,-0.29900735046586746,0.0917607765355023,-1.9875689146008928,-0.21967188783751193,0.3571125715117464,1.477894044741516,-0.5182702182736474,-0.8084936028931876,-0.5017570435845365,0.9154021177020741,0.32875110965968446,-0.5297602037670388,0.5132674331133561,0.09707754934804039,0.9686449905328892,-0.7020530938773524,-0.3276621465977682,-0.39210815313215763,-1.4635149481321186,0.29612027706457605,0.26105527217988933,0.00511345664246089,-0.23458713337514692],
"y":[-1.4153707420504142,-0.42064532276535904,-0.3427145165267695,-0.8022772692216189,-0.16128571166600914,0.4040508568145384,1.8861859012105302,0.17457781283183896,0.25755039072276437,-0.07444591576616721,-1.9187712152990415,-0.026513875449216878,0.06023020994102644,2.463242112485286,-0.19236096478112252,0.30154734233361247,-0.03471176970524331,-1.168678037619532,1.1428228145150205,0.7519330326867741,0.7910319470430469,-0.9093874547947389,1.4027943109360992,-1.4018510627922809,0.5868570938002703,2.1904556258099785,-0.9905363251306883,-0.5662977296027719,0.09965136508764122,-0.5034756541161992,-1.5506634310661327,0.06856297480602733,-1.0623037137261049,0.4735924306351816,-0.9194242342338032,1.5499344050175394,-0.7832532923362371,-0.3220615162056756,0.8135172173696698,-1.2308643164339552,0.22745993460412942,1.307142754282428,-1.6074832345612275,0.1846338585323042,0.25988279424842353,0.7818228717773104,-1.236950710878082,-1.3204566130842763,0.5219415656168976,0.29698467323318606,0.25049285034587654,0.3464482094969757,-0.6800247215784908,0.23225369716100355,0.29307247329868125,-0.7143514180263678,1.8657745111447566,0.4738329209117875,-1.1913034972026486,0.6565536086338297,-0.9746816702273214,0.787084603742452,1.158595579007404,-0.8206823183517105,0.9633761292443218,0.4127809269364983,0.82206015999449,1.8967929826539474,-0.2453881160028705,-0.7537361643574896,-0.8895144296255233,-0.8158102849654383,-0.0771017094141042,0.3411519748166439,0.27669079933001905,0.8271832490360238,0.01300189187790702,1.4535340771573169,-0.2646568332379561,2.720169166589619,0.6256673477650062,-0.8571575564162826,-1.0708924980611123,0.4824724152431853,-0.2234627853258509,0.714000494092092,0.47323762457354485,-0.07282891265687277,-0.846793718068405,-1.5148472246858646,-0.4465149520670211,0.8563987943234723,0.21409374413020396,-1.245738778711988,0.173180925851182,0.3853173797288368,-0.883857436201133,0.1537251059455279,0.058208718445999896,-1.142970297830623],
"c":[1.0,1.0,0.0,0.0,0.0,2.0,4.0,1.0,1.0,2.0,1.0,0.0,4.0,3.0,1.0,0.0,3.0,4.0,3.0,0.0,3.0,2.0,3.0,1.0,1.0,2.0,0.0,1.0,4.0,1.0,1.0,0.0,3.0,1.0,2.0,3.0,4.0,0.0,4.0,3.0,3.0,3.0,4.0,3.0,4.0,3.0,2.0,3.0,4.0,1.0,3.0,1.0,2.0,0.0,2.0,3.0,1.0,1.0,4.0,1.0,4.0,0.0,3.0,4.0,0.0,1.0,1.0,0.0,1.0,0.0,4.0,4.0,0.0,4.0,4.0,4.0,2.0,3.0,1.0,2.0,4.0,0.0,4.0,3.0,4.0,0.0,3.0,4.0,3.0,1.0,1.0,4.0,3.0,0.0,4.0,1.0,1.0,4.0,3.0,1.0]
},
"mapping":{
"x":"x",
"y":"y"
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"point",
"mapping":{
"color":"c"
},
"data_meta":{
"mapping_annotations":[{
"aes":"color",
"annotation":"as_discrete",
"parameters":{
"label":"c"
}
}]
},
"data":{
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("FCBPAM");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();    
   </script></div></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">lets_plot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">lets_plot.mapping</span> <span class="kn">import</span> <span class="n">as_discrete</span>
<span class="linenos"> 4</span><span class="n">LetsPlot</span><span class="o">.</span><span class="n">setup_html</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="linenos"> 6</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 8</span>    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
<span class="linenos"> 9</span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
<span class="linenos">10</span><span class="p">}</span>
<span class="linenos">11</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> \
<span class="hll"><span class="linenos">12</span>    <span class="n">geom_boxplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">as_discrete</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">))</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<div id="0RDeEc"></div>
<script type="text/javascript" data-lets-plot-script="library">
    if(!window.letsPlotCallQueue) {
        window.letsPlotCallQueue = [];
    }; 
    window.letsPlotCall = function(f) {
        window.letsPlotCallQueue.push(f);
    };
    (function() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.2.0/js-package/distr/lets-plot.min.js";
        script.onload = function() {
            window.letsPlotCall = function(f) {f();};
            window.letsPlotCallQueue.forEach(function(f) {f();});
            window.letsPlotCallQueue = [];

        };
        script.onerror = function(event) {
            window.letsPlotCall = function(f) {};    // noop
            window.letsPlotCallQueue = [];
            var div = document.createElement("div");
            div.style.color = 'darkred';
            div.textContent = 'Error loading Lets-Plot JS';
            document.getElementById("0RDeEc").appendChild(div);
        };
        var e = document.getElementById("0RDeEc");
        e.appendChild(script);
    })()
</script>
</div><div class="output text_html">   <div id="xHiown"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
},
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"boxplot",
"mapping":{
"x":"c",
"y":"x"
},
"data_meta":{
"mapping_annotations":[{
"aes":"x",
"annotation":"as_discrete",
"parameters":{
"label":"class",
"order":1.0
}
}]
},
"data":{
"..middle..":[0.3584657285442726,0.5799678408832665,0.6955451851798871,0.3354878062335312,0.4722149251619493],
"..lower..":[0.19967378215835974,0.2812890859859689,0.4278272282424435,0.09681944883619603,0.32533033076326434],
"..upper..":[0.5200680211778108,0.7448961083289424,0.7670954612827223,0.7214254827805295,0.5467102793432796],
"..ymin..":[0.045227288910538066,0.034388521115218396,0.15599452033620265,0.005522117123602399,0.14092422497476265],
"..ymax..":[0.9656320330745594,0.9695846277645586,0.9488855372533332,0.9699098521619943,0.7751328233611146],
"c":["a","d","e","c","b"]
}
},{
"geom":"point",
"stat":"boxplot_outlier",
"mapping":{
"x":"c",
"y":"x"
},
"show_legend":false,
"data_meta":{
"mapping_annotations":[{
"aes":"x",
"annotation":"as_discrete",
"parameters":{
"label":"class",
"order":1.0
}
}]
},
"data":{
"..middle..":[0.3584657285442726,0.5799678408832665,0.6955451851798871,0.3354878062335312,0.4722149251619493],
"..lower..":[0.19967378215835974,0.2812890859859689,0.4278272282424435,0.09681944883619603,0.32533033076326434],
"..upper..":[0.5200680211778108,0.7448961083289424,0.7670954612827223,0.7214254827805295,0.5467102793432796],
"..ymin..":[0.045227288910538066,0.034388521115218396,0.15599452033620265,0.005522117123602399,0.14092422497476265],
"..ymax..":[0.9656320330745594,0.9695846277645586,0.9488855372533332,0.9699098521619943,0.7751328233611146],
"c":["a","d","e","c","b"],
"x":[NaN,NaN,NaN,NaN,0.9868869366005173]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("xHiown");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();    
   </script></div></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">lets_plot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">lets_plot.mapping</span> <span class="kn">import</span> <span class="n">as_discrete</span>
<span class="linenos"> 4</span><span class="n">LetsPlot</span><span class="o">.</span><span class="n">setup_html</span><span class="p">()</span>
<span class="linenos"> 5</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="linenos"> 6</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 8</span>    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos"> 9</span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos">10</span>    <span class="s1">&#39;i&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">),</span>
<span class="linenos">11</span><span class="p">}</span>
<span class="linenos">12</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> \
<span class="hll"><span class="linenos">13</span>    <span class="n">geom_bar</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">as_discrete</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;..count..&#39;</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> \
</span><span class="hll"><span class="linenos">14</span>                 <span class="n">fill</span><span class="o">=</span><span class="n">as_discrete</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;..count..&#39;</span><span class="p">)))</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<div id="RN3s6h"></div>
<script type="text/javascript" data-lets-plot-script="library">
    if(!window.letsPlotCallQueue) {
        window.letsPlotCallQueue = [];
    }; 
    window.letsPlotCall = function(f) {
        window.letsPlotCallQueue.push(f);
    };
    (function() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "https://cdn.jsdelivr.net/gh/JetBrains/lets-plot@v4.2.0/js-package/distr/lets-plot.min.js";
        script.onload = function() {
            window.letsPlotCall = function(f) {f();};
            window.letsPlotCallQueue.forEach(function(f) {f();});
            window.letsPlotCallQueue = [];

        };
        script.onerror = function(event) {
            window.letsPlotCall = function(f) {};    // noop
            window.letsPlotCallQueue = [];
            var div = document.createElement("div");
            div.style.color = 'darkred';
            div.textContent = 'Error loading Lets-Plot JS';
            document.getElementById("RN3s6h").appendChild(div);
        };
        var e = document.getElementById("RN3s6h");
        e.appendChild(script);
    })()
</script>
</div><div class="output text_html">   <div id="2GV5VR"></div>
   <script type="text/javascript" data-lets-plot-script="plot">
       (function() {
           var plotSpec={
"data":{
},
"mapping":{
},
"data_meta":{
},
"kind":"plot",
"scales":[],
"layers":[{
"geom":"bar",
"mapping":{
"x":"c",
"y":"x",
"fill":"i"
},
"data_meta":{
"mapping_annotations":[{
"aes":"x",
"annotation":"as_discrete",
"parameters":{
"label":"c",
"order_by":"..count..",
"order":1.0
}
},{
"aes":"fill",
"annotation":"as_discrete",
"parameters":{
"label":"i",
"order_by":"..count..",
"order":1.0
}
}]
},
"data":{
"..count..":[3.0,12.0,5.0,7.0,4.0,11.0,8.0,7.0,2.0,5.0,12.0,8.0,6.0,6.0,4.0],
"c":["e","d","a","c","b","a","c","b","e","d","a","c","b","d","e"],
"x":[3.0,12.0,5.0,7.0,4.0,11.0,8.0,7.0,2.0,5.0,12.0,8.0,6.0,6.0,4.0],
"i":[2.0,2.0,2.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,0.0,0.0,0.0,0.0,0.0]
}
}],
"metainfo_list":[]
};
           var plotContainer = document.getElementById("2GV5VR");
           window.letsPlotCall(function() {{
               LetsPlot.buildPlotFromProcessedSpecs(plotSpec, -1, -1, plotContainer);
           }});
       })();    
   </script></div></div>
</div>
</dd></dl>

</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a class="reference internal terms-of-service" href="../../_static/docs/lets-plot_terms.pdf" target="_blank">
        Terms
      </a>
      |
      <a class="reference internal licenses" href="../licenses.html">
        Licenses
      </a>
    </p>
    <p>
      Copyright © 2019-2024 JetBrains s.r.o.<br>
      Created using <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
    </p>
  </div>
</footer>

  </body>
</html>